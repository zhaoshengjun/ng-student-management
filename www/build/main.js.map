{"version":3,"sources":["../../src/share/data-service.ts","../../node_modules/@angular/core/@angular lazy","../../src/pages/lodge-detail/lodge-detail.ts","../../src lazy","../../src/pages/student-modal/student-modal.ts","../../src/pages/setting/setting.ts","../../src/pages/report/report.ts","../../src/pages/lodge/lodge.ts","../../src/pages/toast/zttoast.ts","../../src/pages/lodge-form/lodge-form.ts","../../src/pages/signup/signup.ts","../../src/pages/login/login.ts","../../src/pages/tabs/tabs.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/share/data/model.ts","../../src/pages/loading/loading.ts","../../src/app/app.component.ts","../../src/share/common.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Student } from \"./data/model\";\nimport {\n  AngularFireDatabase,\n  FirebaseListObservable\n} from \"angularfire2/database\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { Injectable } from \"@angular/core\";\n\nimport { getDateString } from \"./common\";\n\n@Injectable()\nexport class DataService {\n  students: Student[];\n  lodgelist: any[];\n  uid: string;\n  today: string;\n\n  constructor(\n    private afAuth: AngularFireAuth,\n    private afDB: AngularFireDatabase\n  ) {\n    afAuth.authState.subscribe(user => {\n      this.uid = user.uid;\n    });\n  }\n\n  private convertFirebaseObject(obj: object, key: string) {\n    return Object.assign({ key: key }, obj);\n  }\n\n  // students api\n  checkLoginStatus() {\n    if (!this.uid) {\n      let user = this.afAuth.auth.currentUser;\n      if (user) {\n        this.uid = user.uid;\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return true;\n    }\n  }\n  retriveData() {\n    if (this.checkLoginStatus()) {\n      let today = getDateString();\n      this.afDB\n        .list(`/${this.uid}/students`, { preserveSnapshot: true })\n        .subscribe(snapshot => {\n          console.log(\"Getting students snapshot:\", snapshot);\n          let stuTemp = [];\n          snapshot.forEach(s => {\n            stuTemp.push(this.convertFirebaseObject(s.val(), s.key));\n          });\n          this.students = stuTemp;\n        });\n      this.afDB\n        .list(`/${this.uid}/lodgelists/${today}`, { preserveSnapshot: true })\n        .subscribe(snapshot => {\n          console.log(\"Getting lodgelists\", snapshot);\n          this.lodgelist = snapshot;\n        });\n    }\n  }\n  getStudents() {\n    if (!this.students) {\n      this.retriveData();\n    }\n\n    return new Promise((res, rej) => {\n      if (this.students) {\n        res(this.students);\n      } else {\n        rej(\"No data found\");\n      }\n    });\n  }\n\n  getStudentById(id: string) {\n    return this.students[0];\n    // return this.students.filter( s => s.$key === id);\n  }\n\n  updateStudentInfo(studentId: string, newVal: Student) {\n    // 1. update based on new value;\n    // 2. if holiday period has been updated, needs to check the lodge list as well\n    // return this.students\n    // .update(studentId, newVal)\n  }\n\n  addStudent(student: Student) {\n    // 1. add to students\n    // 2. check if he/she needs to be lodged on today's list.\n    // return this.students.push(student);\n  }\n\n  archiveStudent(studentId: string) {\n    // return this.students.update(studentId, {\n    //   archived: true,\n    //   archivedDate: new Date()\n    // })\n  }\n\n  // lodge list api\n  getList(ref: string): FirebaseListObservable<any> {\n    // if (this.uid) {\n    //   if (!this.lodgelist) {\n    //     // user has signed in and there's no lodgelist\n    //     //  we build a new one\n    //     this.buildLodgeList();\n    //   }\n    // }\n\n    if (this.checkLoginStatus()) {\n      return this.afDB.list(ref, {\n        preserveSnapshot: true\n      });\n    } else {\n      return null;\n    }\n  }\n\n  buildLodgeList() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/share/data-service.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 189;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 189\n// module chunks = 0","import { format } from \"date-fns\";\nimport { Component } from \"@angular/core\";\nimport { NavParams, ViewController } from \"ionic-angular\";\n\n@Component({\n  selector: \"page-lodge-detail\",\n  templateUrl: \"lodge-detail.html\"\n})\nexport class LodgeDetailPage {\n  student;\n  hasSignature: boolean = true;\n  constructor(public navParams: NavParams, public viewCtrl: ViewController) {\n    this.student = navParams.get(\"student\");\n  }\n\n  ionViewDidLoad() {\n    if (this.student.reason == \"InHoliday\") {\n      this.hasSignature = false;\n    } else if (this.student.reason == \"signature\") {\n      this.hasSignature = true;\n      this.student.timestampStr = format(\n        this.student.timestamp,\n        \"YYYY/MM/DD HH:mm:ss\"\n      );\n    }\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lodge-detail/lodge-detail.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 268;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 268\n// module chunks = 0","import { LoadingPage } from \"./../loading/loading\";\nimport { format } from \"date-fns\";\nimport { DataService } from \"./../../share/data-service\";\nimport { Student } from \"./../../share/data/model\";\nimport { Component } from \"@angular/core\";\nimport { NavParams, ViewController, LoadingController } from \"ionic-angular\";\nimport * as firebase from \"firebase\";\n\n@Component({\n  selector: \"page-student-modal\",\n  templateUrl: \"student-modal.html\"\n})\nexport class StudentModalPage {\n  confirmTitle: string = \"Save\";\n  isArchived: boolean = false;\n  student: Student = new Student();\n  mode: string = \"add\";\n  startDate: string = \"2017-07-01\";\n  endDate: string = \"2017-07-05\";\n  dateOfBirth: string;\n  studentRef: string;\n  index: string;\n  db: firebase.database.Database;\n  loader: LoadingPage;\n  error: boolean = false;\n  errorMessage: string = \"\";\n\n  constructor(\n    private viewCtrl: ViewController,\n    private dbService: DataService,\n    private loadCtrl: LoadingController,\n    private navParams: NavParams\n  ) {}\n\n  ionViewDidLoad() {\n    let title = this.navParams.get(\"confirmTitle\");\n    if (title) this.confirmTitle = title;\n\n    this.db = firebase.database();\n    let uid = firebase.auth().currentUser.uid;\n    this.studentRef = `/${uid}/students`;\n    let student = this.navParams.get(\"student\");\n    if (student) {\n      this.mode = \"edit\";\n      this.student = student;\n      this.startDate = format(this.student.startDate, \"YYYY-MM-DD\");\n      this.endDate = format(this.student.endDate, \"YYYY-MM-DD\");\n      console.log(\"startDate:\", this.startDate);\n      console.log(\"endDate:\", this.endDate);\n\n      this.index = this.navParams.get(\"index\");\n    }\n    this.isArchived = this.student.status == \"achived\";\n    this.loader = new LoadingPage(this.loadCtrl);\n  }\n\n  clickedAvatar() {\n    console.log(\"needs to change avatar\");\n    // access the photo lib to change the avatar.\n    // this can be saved to the database.\n  }\n\n  onConfirm() {\n    // should update/add the student data\n    // delete/archive will be performed in the list view instead of this detail view\n    // for unarchived student, there's archive option\n    // for archived student, there's unarchive option\n    this.loader.show();\n\n    this.student.startDate = new Date(this.startDate);\n    this.student.endDate = new Date(this.endDate);\n    this.student.dateOfBirth = new Date(this.dateOfBirth);\n    let listRef = this.db.ref(this.studentRef);\n    if (this.mode == \"add\") {\n      let newKey = listRef.push().key;\n      this.student.id = newKey;\n      let updateData = {};\n      updateData[newKey] = this.student;\n      // also need to check if needs to be inserted into today's lodge list.\n      listRef.update(updateData).then(\n        _ => {\n          this.loader.hide();\n          this.viewCtrl.dismiss();\n        },\n        err => {\n          this.loader.hide();\n          this.error = true;\n          this.errorMessage = err.message;\n          console.log(\"error when saving student data\", err);\n        }\n      );\n    } else {\n      // this.dbService.updateStudentInfo(this.student.$key, newVal)\n      listRef.child(this.student.id).update(this.student).then(\n        _ => {\n          this.loader.hide();\n          this.viewCtrl.dismiss();\n        },\n        err => {\n          this.loader.hide();\n          this.error = true;\n          this.errorMessage = err.message;\n          console.log(\"error when saving student data\", err);\n        }\n      );\n    }\n  }\n\n  onCancel() {\n    this.viewCtrl.dismiss();\n  }\n\n  onAddHoliday() {\n    console.log(\"Add holiday\");\n  }\n\n  onEditHoliday() {\n    console.log(\"Edit holiday\");\n  }\n\n  onDeleteHoliday() {\n    console.log(\"Delete holiday\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/student-modal/student-modal.ts","import { AngularFireAuth } from \"angularfire2/auth\";\nimport { AngularFireDatabase } from \"angularfire2/database\";\nimport { StudentModalPage } from \"./../student-modal/student-modal\";\nimport { Component } from \"@angular/core\";\nimport { NavController, ModalController } from \"ionic-angular\";\nimport { BehaviorSubject } from \"rxjs/BehaviorSubject\";\n\n@Component({\n  selector: \"page-setting\",\n  templateUrl: \"setting.html\"\n})\nexport class SettingPage {\n  userId: string;\n  students;\n  activeOnly: boolean = false;\n  querySubject: BehaviorSubject<any>;\n  queryOpts = {};\n\n  constructor(\n    public navCtrl: NavController,\n    private afDB: AngularFireDatabase,\n    private afAuth: AngularFireAuth,\n    public modalCtrl: ModalController\n  ) {\n    this.querySubject = new BehaviorSubject({});\n    this.userId = this.afAuth.auth.currentUser.uid;\n    const studentsRefString = `/${this.userId}/students`;\n    this.querySubject.subscribe(opts => {\n      console.log(\"options:\", opts);\n      this.queryOpts = opts;\n      this.students = this.afDB.list(studentsRefString, this.queryOpts);\n    });\n  }\n\n  ionViewDidLoad() {\n    // load all students info\n  }\n\n  updateFilter() {\n    console.log(\"activeOnly: \", this.activeOnly);\n    if (this.activeOnly) {\n      this.querySubject.next({\n        query: {\n          orderByChild: \"status\",\n          equalTo: \"active\"\n        }\n      });\n    } else {\n      this.querySubject.next({});\n    }\n  }\n\n  onEdit(student, index) {\n    console.log(\"Edit student info: \", student, index);\n    let modal = this.modalCtrl.create(StudentModalPage, {\n      confirmTitle: \"Update\",\n      student,\n      index\n    });\n    modal.present();\n  }\n\n  onAdd() {\n    // show add modal\n    let modal = this.modalCtrl.create(StudentModalPage, {});\n    modal.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/setting/setting.ts","import { SignupPage } from \"./../signup/signup\";\nimport { Component } from \"@angular/core\";\nimport { NavController } from \"ionic-angular\";\nimport * as firebase from \"firebase\";\nimport Rx from \"rxjs/Rx\";\nimport { convertFirebaseObjectToArray } from \"../../share/common\";\nimport { format } from \"date-fns\";\n\n@Component({\n  selector: \"page-report\",\n  templateUrl: \"report.html\"\n})\nexport class ReportPage {\n  searchTerm: string = \"byDate\";\n  allData: Array<any>;\n  uid: string;\n  lodgeListsRefString: string;\n  studentsRefString: string;\n  searchDate: string;\n  searchPerson: string;\n  searchUniversity: string;\n  students: Array<any>;\n  lodgeLists: Array<any>;\n  resultData: Array<any>;\n  loaded: boolean = false;\n\n  constructor(public navCtrl: NavController) { }\n\n  ionViewDidLoad() {\n    this.uid = firebase.auth().currentUser.uid;\n    this.lodgeListsRefString = `/${this.uid}/lodgelists`;\n    this.studentsRefString = `/${this.uid}/students`;\n    this.getData().then(val => {\n      this.convertFirebaseData(val);\n    });\n\n    this.searchUniversity = \"UQ\";\n    this.searchDate = format(new Date(\"2017-08-10\"), 'YYYY-MM-DD');\n  }\n\n  convertFirebaseData(snapshot) {\n    this.lodgeLists = snapshot[0].val();\n    this.students = convertFirebaseObjectToArray(snapshot[1].val());\n    this.loaded = true;\n  }\n\n  onChange(event) {\n    this.resultData = [];\n  }\n\n  onSearch() {\n    console.log(\"Search\");\n    this.resultData = [];\n\n    if (!this.loaded) {\n      this.getData().then(snap => {\n        this.convertFirebaseData(snap);\n        this.doSearch();\n      });\n    } else {\n      this.doSearch();\n      this.formatResultData();\n      console.log(\"resultData:\", this.resultData);\n    }\n  }\n\n  formatResultData() {\n    let arr = this.resultData;\n    if (arr && arr.length > 0) {\n      this.resultData = arr.map(s => {\n        let { date, timestamp, startDate, endDate, dateOfBirth } = s;\n        date && (date = format(new Date(date), 'YYYY/MM/DD'));\n        startDate && (startDate = format(new Date(startDate), 'YYYY/MM/DD'));\n        endDate && (endDate = format(new Date(endDate), 'YYYY/MM/DD'));\n        dateOfBirth && (dateOfBirth = format(new Date(dateOfBirth), 'YYYY/MM/DD'));\n        timestamp && (timestamp = format(new Date(timestamp), 'HH:MM:SS'));\n        return Object.assign(s, { date, timestamp, startDate, endDate, dateOfBirth })\n      })\n\n    }\n  }\n\n  doSearch() {\n    switch (this.searchTerm) {\n      case \"byDate\":\n        this.searchByDate();\n        break;\n      case \"byPerson\":\n        this.searchByPerson();\n        break;\n      case \"byUniversity\":\n        this.searchByUniversity();\n        break;\n    }\n  }\n\n  searchByDate() {\n    const findStudentInfo = sid => {\n      return this.students.filter(s => s.id === sid)[0];\n    };\n\n    let keyDate = format(new Date(this.searchDate), \"YYYYMMDD\");\n    let lodgelist = this.lodgeLists[keyDate];\n    this.resultData = lodgelist\n      .map(l => {\n        let studentInfo = findStudentInfo(l.studentId);\n        return this.mergeInfo(studentInfo, l, this.searchDate);\n      })\n      .filter(e => e);\n  }\n\n  mergeInfo(student, lodgeInfo, date) {\n    let { lodgeStatus, reason, signature, timestamp, reminderTime } = lodgeInfo;\n    return Object.assign(student, {\n      date,\n      lodgeStatus,\n      reason,\n      signature,\n      timestamp,\n      reminderTime\n    });\n  }\n\n  searchByPerson() {\n    let flatten = arr => {\n      let result = [];\n      for (let outer of arr) {\n        for (let inner of outer) {\n          if (inner) {\n            result.push(inner);\n          }\n        }\n      }\n      return result;\n    };\n    let name = this.searchPerson.trim();\n    let result = this.students.filter(s => s.name.includes(name)).map(s => {\n      let lodgeInfos = [];\n      for (let keydate in this.lodgeLists) {\n        let list = this.lodgeLists[keydate];\n        let date = format(keydate, 'YYYY-MM-DD');\n        let result = list.filter(l => l.studentId == s.id)[0];\n        if (result) {\n          lodgeInfos.push(this.mergeInfo(s, result, date));\n        }\n      }\n      return lodgeInfos;\n    });\n\n    this.resultData = flatten(result);\n  }\n\n  searchByUniversity() {\n    const findLodgeInfoByStudentId = (sid, keydate) => {\n      let date = format(new Date(keydate), \"YYYYMMDD\");\n      let lodgelist = this.lodgeLists[date];\n      return lodgelist.filter(s => s.studentId === sid)[0];\n    };\n    let university = this.searchUniversity.trim();\n    this.resultData = this.students\n      .filter(s => s.university == university)\n      .map(s => {\n        let lodgeInfo = findLodgeInfoByStudentId(s.id, this.searchDate);\n        if (lodgeInfo) {\n          return this.mergeInfo(s, lodgeInfo, this.searchDate);\n        }\n      })\n      .filter(e => e);\n  }\n\n  getData() {\n    let lodgeLists = [];\n    let students = [];\n\n    let lodgeListsRef = firebase.database().ref(this.lodgeListsRefString);\n    let studentsRef = firebase.database().ref(this.studentsRefString);\n\n    let lodgeStream = Rx.Observable.from(lodgeListsRef.once(\"value\"));\n\n    let studentsStream = Rx.Observable.from(studentsRef.once(\"value\"));\n\n    return Rx.Observable.forkJoin(lodgeStream, studentsStream).toPromise();\n  }\n\n  onExport() {\n    console.log(\"export report\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/report/report.ts","import { ZTToast } from './../toast/zttoast';\nimport { LodgeDetailPage } from \"./../lodge-detail/lodge-detail\";\nimport { SignupPage } from \"./../signup/signup\";\nimport { Student } from \"./../../share/data/model\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { Component } from \"@angular/core\";\nimport {\n  NavController,\n  App,\n  LoadingController,\n  ModalController,\n  AlertController,\n  Events,\n  ItemSliding\n} from \"ionic-angular\";\nimport { LoadingPage } from \"../loading/loading\";\nimport {\n  FirebaseListObservable,\n  AngularFireDatabase,\n  FirebaseObjectObservable\n} from \"angularfire2/database\";\n\nimport \"rxjs/add/operator/map\";\nimport { ReplaySubject } from \"rxjs/ReplaySubject\";\nimport * as firebase from \"firebase\";\n// import { Observable } from \"rxjs/Observable\";\nimport * as Rx from \"rxjs\";\nimport { DataService } from \"../../share/data-service\";\nimport {\n  getDateString,\n  convertFirebaseObjectToArray\n} from \"../../share/common\";\nimport { isWithinRange, format, isBefore } from \"date-fns\";\nimport { LodgeFormPage } from \"../lodge-form/lodge-form\";\n\nimport { EmailComposer } from '@ionic-native/email-composer';\nimport { SMS } from \"@ionic-native/sms\";\nimport { CallNumber } from \"@ionic-native/call-number\";\n\n@Component({\n  selector: \"page-lodge\",\n  templateUrl: \"lodge.html\"\n})\nexport class LodgePage {\n  selectedSegment = \"unlodged\";\n  wholeList: Rx.Observable<any>;\n  userId: string;\n  selectedDate: Date;\n  dateString: string;\n  site: FirebaseObjectObservable<any>;\n  db: firebase.database.Database;\n  private loader: LoadingPage;\n  private toast: ZTToast;\n\n  constructor(\n    public navCtrl: NavController,\n    public loadingCtrl: LoadingController,\n    private modalCtrl: ModalController,\n    private alertCtrl: AlertController,\n    private afDB: AngularFireDatabase,\n    private afAuth: AngularFireAuth,\n    private dbService: DataService,\n    private events: Events,\n    private email: EmailComposer,\n    private sms: SMS,\n    private call: CallNumber,\n    private _app: App\n  ) {\n    this.db = this.afDB.database;\n    this.toast = new ZTToast();\n  }\n\n  ionViewDidLoad() {\n    this.loader = new LoadingPage(this.loadingCtrl);\n    this.selectedDate = new Date();\n    this.dateString = format(this.selectedDate, \"YYYYMMDD\");\n    this.userId = this.dbService.uid;\n    const todayRef = `/${this.userId}/lodgelists/${this.dateString}`;\n    let listRef = this.afDB.list(todayRef);\n    let fetchStudentInfo = (stu, cb) => {\n      let stuRef = this.db\n        .ref()\n        .child(`/${this.userId}/students/${stu.studentId}`);\n      stuRef.once(\"value\", cb);\n    };\n    this.wholeList = listRef.map(snap => {\n      if (snap.length == 0) {\n        // this is the 1st time to use for today.\n        // should generate a list\n        this.generateList();\n      } else {\n        // list already exists.\n        let list = [];\n        snap.forEach(stu => {\n          // console.log('stu:', stu);\n          fetchStudentInfo(stu, data => {\n            // console.log(\"fetch:\", data.val());\n            let stud = data.val();\n            let student = Object.assign(stud, {\n              lodgeStatus: stu.lodgeStatus,\n              reason: stu.reason,\n              signature: stu.signature,\n              timestamp: stu.timestamp\n            });\n            // console.log('generate info: ', student);\n            list.push(student);\n          });\n        });\n        return list;\n      }\n    });\n    this.site = this.afDB.object(`/${this.userId}/site`);\n    this.wholeList.subscribe(d => {\n      console.log(\"whole list\", d);\n      if (d) {\n        if (d.length > 0) {\n          let unlodgeList = d.filter(a => a.lodgeStatus === \"unlodged\");\n          this.events.publish(\"unlodge:count\", unlodgeList.length);\n        }\n      }\n    });\n  }\n\n  generateList() {\n    // get full students list\n\n    let studentRefString = `/${this.userId}/students`;\n    let studentRef = this.db.ref(studentRefString);\n    // let studentsRef = this.afDB.list(studentRefString);\n    // check each of them should be lodged\n    let lodgeListRefString = `/${this.userId}/lodgelists/${this.dateString}`;\n    let lodgeListRef = this.db.ref(lodgeListRefString);\n    // let lodgeListRef = this.afDB.list(lodgeListRefString);\n    let listRef = this.afDB.database.ref(lodgeListRefString);\n    studentRef.once(\"value\", snap => {\n      console.log(snap.val());\n      let stuSnap = snap.val();\n      let students = convertFirebaseObjectToArray(stuSnap);\n      console.log(\"students:\", students);\n      let lodgeList = [];\n      if (students) {\n        if (students.length > 0) {\n          students.filter(s => s.status === \"active\").forEach(s => {\n            console.log(\"student:\", s, \"key:\", s.id);\n            let {\n              needLodge,\n              reason,\n              status,\n              signature,\n              timestamp\n            } = this.checkIfNeedToLodge(s);\n            if (needLodge) {\n              let lodgeInfo = {\n                studentId: s.id,\n                lodgeStatus: status,\n                reason,\n                signature,\n                timestamp\n              };\n              console.log(\"lodgeInfo:\", lodgeInfo);\n              lodgeList.push(lodgeInfo);\n            }\n          });\n          listRef.update(lodgeList);\n        }\n      }\n    });\n  }\n\n  checkIfNeedToLodge(student) {\n    let needLodge = true;\n    let reason = \"\";\n    let status = \"unlodged\";\n    let signature = \"\";\n    let timestamp = \"\";\n\n    if (isWithinRange(this.selectedDate, student.startDate, student.endDate)) {\n      let { reason, status, signature } = this.checkHolidays(student);\n    } else if (isBefore(student.endDate, this.selectedDate)) {\n      // update student's status to archived.\n      needLodge = false;\n      status = \"\";\n      let studentKey = student.id;\n      let studentRef = this.db.ref(`/${this.userId}/students/${studentKey}`);\n      studentRef.update({\n        status: \"archived\"\n      });\n    } else if (isBefore(this.selectedDate, student.startDate)) {\n      needLodge = false;\n      status = \"\";\n    }\n    return { needLodge, reason, status, signature, timestamp };\n  }\n\n  checkHolidays(student) {\n    let val = {\n      reason: \"\",\n      status: \"unlodged\",\n      signature: \"\",\n      timestamp: \"\"\n    };\n    let holidays = student.holidayPeriods;\n    if (holidays && holidays.length > 0) {\n      for (let i = 0; i < holidays.length; i++) {\n        let holiday = holidays[i];\n        if (\n          isWithinRange(this.selectedDate, holiday.startDate, holiday.endDate)\n        ) {\n          val.reason = \"InHoliday\";\n          val.status = \"lodged\";\n          val.signature = `${format(\n            holiday.startDate,\n            \"YYYY-MM-DD\"\n          )} ~ ${format(holiday.endDate, \"YYYY-MM-DD\")}`;\n          val.timestamp = new Date().toISOString();\n          break;\n        }\n      }\n    }\n    return val;\n  }\n\n  onLogout() {\n    const root = this._app.getRootNavs()[0];\n    root.popToRoot();\n  }\n\n  onSegmentChanged(newVal: string) {\n    this.selectedSegment = newVal;\n    console.log(this.selectedSegment);\n  }\n\n  onSignIn(student, index) {\n    console.log(\"Sign in with :\", student);\n    // should show sign in form to collect signature\n    //  and save it to the database\n    let studentRef = `/${this.userId}/lodgelists/${this.dateString}`;\n    let signInForm = this.modalCtrl.create(LodgeFormPage, {\n      student,\n      studentRef,\n      index\n    });\n    signInForm.present();\n  }\n  onText(student, index) {\n    console.log(\"Text with :\", student);\n    //  Text student\n    let textStudent = (phoneNumber) => {\n      this.sms.send(phoneNumber, \"This is a reminder from UniLodge.\")\n        .then(_ => {\n          this.updateReminderInfo(index, \"text\");\n        }).catch(err => {\n          this.toast.error(\"Error when sending text. Please check your security settings.\")\n        });\n    }\n\n    this.choosePhoneNumber(student, textStudent);\n  }\n\n  choosePhoneNumber(student, cb) {\n    if (student.phone && student.guardianPhone) {\n      // if have more than 1 phone numbers in student record,\n      //  show a popup window to choose.\n      let alert = this.alertCtrl.create();\n      alert.setTitle(\"Select phone number\");\n      alert.addInput({\n        type: \"radio\",\n        label: student.phone,\n        value: student.phone,\n        checked: true\n      });\n      alert.addInput({\n        type: \"radio\",\n        label: student.guardianPhone,\n        value: student.guardianPhone,\n        checked: false\n      });\n      alert.addButton(\"Cancel\");\n      alert.addButton({\n        text: \"Ok\",\n        handler: (phoneNumber: any) => {\n          console.log(\"Radio data:\", phoneNumber);\n          cb(phoneNumber);\n        }\n      });\n      alert.present();\n    } else {\n      let phoneNumber = student.phone || student.guardianPhone;\n      cb(phoneNumber);\n    }\n  }\n\n  onCall(student, index) {\n    console.log(\"Call with :\", student);\n    //  Call student\n    // if have more than 1 phone numbers in student record,\n    //  show a popup window to choose.\n    let callStudent = (phoneNumber) => {\n      this.call.callNumber(phoneNumber, true)\n        .then(() => {\n          this.updateReminderInfo(index, 'call');\n        }).catch(err => {\n          this.toast.error(\"Error when making a call. Please check your security settings.\");\n        })\n    }\n\n    this.choosePhoneNumber(student, callStudent);\n\n  }\n  onEmail(student, index) {\n    //  Email student\n    this.email.isAvailable().then(available => {\n      if (available) {\n        this.email.open({\n          app: \"mailto\",\n          to: student.email,\n          subject: \"Reminder\",\n          body: \"This is a reminder from UniLodge.\"\n        }).then(() => {\n          this.toast.success(\"Email sent successfully!\", 500)\n          this.updateReminderInfo(index, 'email');\n        }).catch(err => {\n          this.toast.error(\"Error when sending email. Please check your security settings.\");\n        })\n      }\n    });\n  }\n\n  onShowDetail(student) {\n    if (student.lodgeStatus == \"lodged\") {\n      // show lodged detail information\n      let lodgeDetail = this.modalCtrl.create(LodgeDetailPage, { student });\n      lodgeDetail.present();\n    }\n  }\n\n  updateReminderInfo(index, remindMethod = \"text\", reminderTime = new Date()) {\n    let studentRefString = `/${this.userId}/lodgelists/${this.dateString}`;\n    let studentRef = this.db.ref(studentRefString);\n    studentRef.child(index)\n      .update({\n        remindMethod,\n        reminderTime\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lodge/lodge.ts","declare let iqwerty: any;\r\nexport class ZTToast {\r\n  defaultDuration = 500;\r\n\r\n  private static _sharedInstance: ZTToast;\r\n\r\n  constructor() {\r\n    if (!ZTToast._sharedInstance) {\r\n      ZTToast._sharedInstance = this;\r\n    }\r\n\r\n    return ZTToast._sharedInstance;\r\n  }\r\n\r\n  warning(msg: string, duration: number = this.defaultDuration) {\r\n    let options = {\r\n      style: {\r\n        main: {\r\n          background: \"#F89406\",\r\n          color: \"white\"\r\n        }\r\n      },\r\n      settings: {\r\n        duration\r\n      }\r\n    };\r\n    iqwerty.toast.Toast(msg, options);\r\n  }\r\n  error(msg: string, duration: number = this.defaultDuration) {\r\n    let options = {\r\n      style: {\r\n        main: {\r\n          background: \"#BD362F\",\r\n          color: \"white\"\r\n        }\r\n      },\r\n      settings: {\r\n        duration\r\n      }\r\n    };\r\n    iqwerty.toast.Toast(msg, options);\r\n  }\r\n  info(msg: string, duration: number = this.defaultDuration) {\r\n    let options = {\r\n      style: {\r\n        main: {\r\n          background: \"#333\",\r\n          color: \"white\"\r\n        }\r\n      },\r\n      settings: {\r\n        duration\r\n      }\r\n    };\r\n    iqwerty.toast.Toast(msg, options);\r\n  }\r\n  success(msg: string, duration: number = this.defaultDuration) {\r\n    let options = {\r\n      style: {\r\n        main: {\r\n          background: \"#51A351\",\r\n          color: \"white\"\r\n        }\r\n      },\r\n      settings: {\r\n        duration\r\n      }\r\n    };\r\n    iqwerty.toast.Toast(msg, options);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/toast/zttoast.ts","import { LoadingPage } from \"./../loading/loading\";\nimport { Student } from \"./../../share/data/model\";\nimport { Component } from \"@angular/core\";\nimport {\n  NavController,\n  ViewController,\n  NavParams,\n  LoadingController\n} from \"ionic-angular\";\n\nimport firebase from \"firebase\";\nimport { ZTToast } from \"../toast/zttoast\";\nimport { b64ToBlob } from \"../../share/common\";\n\ndeclare let SignaturePad: any;\n\n@Component({\n  selector: \"page-lodge-form\",\n  templateUrl: \"lodge-form.html\"\n})\nexport class LodgeFormPage {\n  student: Student;\n  studentRef: string;\n  index: number;\n  error: boolean = false;\n  errorMessage: string = \"\";\n  loader: LoadingPage;\n  uid: string;\n  pad;\n  canvas;\n  picData;\n  url: string;\n  private _toast: ZTToast;\n  private db: firebase.database.Database;\n\n  constructor(\n    public navCtrl: NavController,\n    private viewCtrl: ViewController,\n    private loadingCtrl: LoadingController,\n    public navParams: NavParams\n  ) {\n    this.student = this.navParams.get(\"student\");\n    this.studentRef = this.navParams.get(\"studentRef\");\n    this.index = this.navParams.get(\"index\");\n    this.db = firebase.database();\n    this.uid = firebase.auth().currentUser.uid;\n    this._toast = new ZTToast();\n  }\n\n  resizeCanvas() {\n    let ratio = Math.max(window.devicePixelRatio || 1, 1);\n    this.canvas.width = this.canvas.offsetWidth * ratio;\n    this.canvas.height = this.canvas.offsetHeight * ratio;\n    this.canvas.getContext(\"2d\").scale(ratio, ratio);\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad LodgeFormPage\");\n    this.loader = new LoadingPage(this.loadingCtrl);\n\n    this.canvas = document.getElementById(\"canvas\");\n    this.pad = new SignaturePad(this.canvas);\n    window.onresize = this.resizeCanvas;\n    this.resizeCanvas();\n  }\n\n  onSubmit() {\n    // submit the record\n    // this.loader.show();\n    console.log(\"submit signin information\");\n\n    console.log(\"index\", this.index);\n\n    this.savePic();\n    // should show progress bar\n    // also show error/success message to let user know.\n    // let listRef = this.db.ref(this.studentRef);\n    // listRef\n    //   .child(this.index.toString())\n    //   .update({ lodgeStatus: \"lodged\", reason: \"signature\" })\n    //   .then(\n    //   _ => {\n    //     this.loader.hide();\n    //     this.viewCtrl.dismiss();\n    //   },\n    //   err => {\n    //     this.loader.hide();\n    //     this.error = true;\n    //     this.errorMessage = err.message;\n    //   }\n    //   );\n  }\n\n  onCancel() {\n    console.log(\"Cancel signin\");\n    this.viewCtrl.dismiss();\n  }\n\n  savePic() {\n    let pic = this.pad.toDataURL();\n    let [contentType, b64Data] = pic.split(\",\");\n    let picData = b64ToBlob(b64Data, contentType);\n    if (this.uid) {\n      this._toast.info(\"Start uploading signature\");\n      let ref = firebase.storage().ref(\"/\" + this.uid);\n      let generatedPicName = this.generatePictureName();\n      let meta = {\n        contentType: \"image/jpeg\",\n        customMetadata: {\n          activity: \"lodge\"\n        }\n      };\n      // const showUploadPaused = () => {\n      //   this._toast.warning(\"Upload is paused\");\n      // };\n\n      const showUploadError = err => {\n        this._toast.error(err.message);\n      };\n\n      const showUploadSuccess = () => {\n        this._toast.success(\"Upload is done!\");\n        // this.saveRecord\n      };\n\n      ref.child(generatedPicName).put(picData, meta).then(\n        snapshot => {\n          console.log(\"snapshot:\", snapshot);\n          this.url = snapshot.downloadURL;\n          showUploadSuccess();\n          this.updateLodgeStatus();\n          // use url to update lodge information.\n        },\n        err => {\n          showUploadError(err);\n        }\n      );\n    }\n  }\n\n  updateLodgeStatus() {\n    this._toast.info(\"Updating sign in record\");\n    let listRef = this.db.ref(this.studentRef);\n    listRef\n      .child(this.index.toString())\n      .update({\n        lodgeStatus: \"lodged\",\n        reason: \"signature\",\n        timestamp: new Date().toISOString(),\n        signature: this.url\n      })\n      .then(\n        _ => {\n          this._toast.success(\"Saved successfully!\");\n          this.viewCtrl.dismiss();\n        },\n        err => {\n          this._toast.error(err.message);\n        }\n      );\n  }\n\n  generatePictureName() {\n    let d = new Date().valueOf();\n    return this.uid + d + \".jpg\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lodge-form/lodge-form.ts","import { User } from \"./../../share/data/model\";\nimport { Component } from \"@angular/core\";\nimport { NavController, NavParams } from \"ionic-angular\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\n\n@Component({\n  selector: \"page-signup\",\n  templateUrl: \"signup.html\"\n})\nexport class SignupPage {\n  user: User = {\n    email: \"\",\n    password: \"\",\n    site: \"\"\n  };\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private af: AngularFireAuth\n  ) {}\n\n  onSubmit(user: User) {\n    // validate first\n    // though user info has been posted to firebase, no user data can be accessed yet.\n    this.af.auth\n      .createUserWithEmailAndPassword(this.user.email, this.user.password)\n      .then(\n        data => {\n          // should disable user before manuall verificiation has been confirmed.\n          console.log(data);\n          //the page doesn't auto refresh, so we can show the message.\n        },\n        err => {\n          // show error message\n          console.log(err);\n        }\n      )\n      .catch(err => {});\n  }\n\n  onCancel() {\n    this.navCtrl.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/signup/signup.ts","import { TabsPage } from \"./../tabs/tabs\";\nimport { SignupPage } from \"./../signup/signup\";\nimport { Component } from \"@angular/core\";\nimport { NavController, NavParams, LoadingController } from \"ionic-angular\";\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport { LoadingPage } from \"../loading/loading\";\nimport { User } from \"../../share/data/model\";\n\n@Component({\n  selector: \"page-login\",\n  templateUrl: \"login.html\"\n})\nexport class LoginPage {\n  user: User = {\n    email: \"a@a.com\",\n    password: \"111111\",\n    site: \"\"\n  };\n  constructor(public navCtrl: NavController, public loadingCtrl: LoadingController, public navParams: NavParams, private afAuth: AngularFireAuth) { }\n\n  ionViewDidLoad() {\n\n  }\n\n  onLogin() {\n\n    let loader = new LoadingPage(this.loadingCtrl)\n    loader.show();\n    this.afAuth.auth.signInWithEmailAndPassword(this.user.email, this.user.password)\n      .then((res) => {\n        loader.hide();\n        console.log(res);\n        this.navCtrl.push(TabsPage);\n      }, (err) => {\n        loader.hide();\n        console.log(err)\n        // show error message\n      })\n  }\n\n  onSignup() {\n    this.navCtrl.push(SignupPage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","import { ReportPage } from \"./../report/report\";\nimport { SettingPage } from \"./../setting/setting\";\nimport { Component } from \"@angular/core\";\nimport { LodgePage } from \"../lodge/lodge\";\nimport { Events } from \"ionic-angular\";\n\n@Component({\n  templateUrl: \"tabs.html\"\n})\nexport class TabsPage {\n  tab1Root = LodgePage;\n  tab2Root = ReportPage;\n  tab3Root = SettingPage;\n\n  unlodgeCount: number = 0;\n  constructor(public events: Events) {\n    events.subscribe(\"unlodge:count\", (data) => {\n      this.unlodgeCount = data;\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { LodgeDetailPage } from \"./../pages/lodge-detail/lodge-detail\";\nimport { StudentModalPage } from \"./../pages/student-modal/student-modal\";\nimport { SettingPage } from \"./../pages/setting/setting\";\nimport { ReportPage } from \"./../pages/report/report\";\nimport { LodgePage } from \"./../pages/lodge/lodge\";\nimport { SignupPage } from \"./../pages/signup/signup\";\nimport { LoginPage } from \"./../pages/login/login\";\nimport { NgModule, ErrorHandler } from \"@angular/core\";\nimport { BrowserModule } from \"@angular/platform-browser\";\nimport { IonicApp, IonicModule, IonicErrorHandler } from \"ionic-angular\";\nimport { MyApp } from \"./app.component\";\nimport { TabsPage } from \"../pages/tabs/tabs\";\nimport { LoadingPage } from \"./../pages/loading/loading\";\nimport { HttpModule } from \"@angular/http\";\n\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\n\nimport { AngularFireModule } from \"angularfire2\";\nimport { AngularFireDatabaseModule } from \"angularfire2/database\";\nimport { AngularFireAuthModule } from \"angularfire2/auth\";\nimport { DataService } from \"../share/data-service\";\nimport { LodgeFormPage } from \"../pages/lodge-form/lodge-form\";\nimport { EmailComposer } from \"@ionic-native/email-composer\";\nimport { CallNumber } from '@ionic-native/call-number';\nimport { SMS } from '@ionic-native/sms';\n\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyCETsqdUtSsWkz4oCP8_EsM3mbeDlfscKQ\",\n  authDomain: \"unilodge-6fd12.firebaseapp.com\",\n  databaseURL: \"https://unilodge-6fd12.firebaseio.com\",\n  projectId: \"unilodge-6fd12\",\n  storageBucket: \"unilodge-6fd12.appspot.com\",\n  messagingSenderId: \"550368336024\"\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    LoginPage,\n    SignupPage,\n    LodgePage,\n    ReportPage,\n    SettingPage,\n    StudentModalPage,\n    LoadingPage,\n    LodgeFormPage,\n    LodgeDetailPage,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {\n      iconMode: \"md\",\n      pageTransition: \"md-transition\"\n    }),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    LoginPage,\n    SignupPage,\n    LodgePage,\n    ReportPage,\n    SettingPage,\n    StudentModalPage,\n    LoadingPage,\n    LodgeFormPage,\n    LodgeDetailPage,\n    TabsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    EmailComposer,\n    CallNumber,\n    SMS,\n    DataService\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export interface User {\n  email: string;\n  password: string;\n  site: string;\n}\n\nexport interface Period {\n  startDate: Date;\n  endDate: Date;\n}\n\nexport interface Guardian {\n  name: string;\n  photo: string;\n  email: string;\n}\n\nexport class Student {\n  id: string = \"\";\n  name: string = \"Full name\";\n  roomNo: string = \"\";\n  photo: string = \"101\";\n  university: string = \"UQ\";\n  phone: string = \"123-456-7890\";\n  email: string = \"abc@email.com\";\n  startDate: Date = new Date();\n  endDate: Date = new Date();\n  dateOfBirth: Date = new Date();\n  holidayPeriods: Period[] = [];\n  comments: string = \"\";\n  guardianName: string = \"Guardian name\";\n  guardianPhone: string = \"123-456-7890\";\n  guardianEmail: string = \"abc@email.com\";\n  status: string = \"active\";\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/share/data/model.ts","import { Component } from '@angular/core';\nimport { LoadingController, Loading } from \"ionic-angular\";\n\n@Component({\n  selector: 'page-loading',\n  templateUrl: 'loading.html',\n})\nexport class LoadingPage {\n\n  private loading: Loading;\n  constructor(public loadingCtrl: LoadingController) {\n  }\n\n  show(msg: string = 'Please wait...') {\n    this.loading = this.loadingCtrl.create({\n      spinner: \"crescent\",\n      content: msg\n    });\n    this.loading.present();\n  }\n\n  hide() {\n    if (this.loading) {\n      this.loading.dismiss();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/loading/loading.ts","import { Component } from \"@angular/core\";\nimport { Platform } from \"ionic-angular\";\nimport { StatusBar } from \"@ionic-native/status-bar\";\nimport { SplashScreen } from \"@ionic-native/splash-screen\";\nimport { LoginPage } from \"../pages/login/login\";\n\n@Component({\n  templateUrl: \"app.html\"\n})\nexport class MyApp {\n  rootPage: any = LoginPage;\n\n  constructor(\n    platform: Platform,\n    statusBar: StatusBar,\n    splashScreen: SplashScreen\n  ) {\n    platform.ready().then(() => {\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export function getDateString(d: Date = new Date()) {\r\n  let day = d.getDate() - 1;\r\n  let month = d.getMonth() + 1;\r\n  let dayStr = day < 10 ? \"0\" + day.toString() : day.toString();\r\n  let monthStr = month < 10 ? \"0\" + month.toString() : month.toString();\r\n  return `${d.getFullYear()}${monthStr}${dayStr}`;\r\n}\r\n\r\nexport function convertFirebaseObjectToArray(obj: object) {\r\n  let arr = [];\r\n  for (let k in obj) {\r\n    if (obj.hasOwnProperty(k)) {\r\n      arr.push(convertFirebaseObject(obj[k], k));\r\n    }\r\n  }\r\n  return arr;\r\n}\r\n\r\nexport function convertFirebaseObject(obj: object, key: string) {\r\n  return Object.assign({ key: key }, obj);\r\n}\r\n\r\nexport function b64ToBlob(b64data, contentType = \"\", sliceSize = 512) {\r\n  const byteCharacters = atob(b64data);\r\n  const byteArrays = [];\r\n  for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\r\n    const slice = byteCharacters.slice(offset, offset + sliceSize);\r\n    const byteNumbers = new Array(slice.length);\r\n    for (let i = 0; i < slice.length; i++) {\r\n      byteNumbers[i] = slice.charCodeAt(i);\r\n    }\r\n\r\n    const byteArray = new Uint8Array(byteNumbers);\r\n    byteArrays.push(byteArray);\r\n  }\r\n\r\n  const blob = new Blob(byteArrays, { type: contentType });\r\n  return blob;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/share/common.ts"],"sourceRoot":""}